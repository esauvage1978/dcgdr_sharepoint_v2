{% macro backpack(view,state,owner,item,underrubric) %}
    {% import "macros/widgets.html.twig" as widgets %}
    {% set actions = {} %}
    {% if underrubric %}
        {% set actions = actions|merge({ 'left': {url: path('rubric_show',{id:underrubric.rubric.id}),class:'btn-secondary',attr:{title:'retour'}}}) %}
    {% endif %}
    {% set actions = actions|merge({ 'home': {url: path('home'),class:'btn-secondary',attr:{title:'Accueil'}}}) %}
    {% if item %}
        {% if view=='state' %}
            {% set actions = actions|merge({ 'create': {url: path('backpack_add'),class:'btn-secondary',attr:{title:'Ajouter'}}}) %}
            {% set actions = actions|merge({ 'workflow': {url: path('workflow_backpack_history',{id:item.id}),class:'btn-secondary',attr:{title:'historique du workflow'}}}) %}
            {% set actions = actions|merge({ 'edit': {url: path('backpack_edit',{id:item.id}),class:'btn-secondary',attr:{title:'Modifier'}}}) %}
        {% elseif view=='workflow' %}
            {% set actions = actions|merge({ 'show': {url: path('backpacks_show_state',{state:state,iditem:item.id,owner:owner}),class:'btn-secondary',attr:{title:'Consulter'}}}) %}
            {% set actions = actions|merge({ 'edit': {url: path('backpack_edit',{id:item.id}),class:'btn-secondary',attr:{title:'Modifier'}}}) %}
        {% elseif view=='edit' %}
            {% set actions = actions|merge({ 'workflow': {url: path('workflow_backpack_history',{id:item.id}),class:'btn-secondary',attr:{title:'historique du workflow'}}}) %}
            {% set actions = actions|merge({ 'show': {url: path('backpacks_show_state',{state:state,iditem:item.id,owner:owner}),class:'btn-secondary',attr:{title:'Consulter'}}}) %}
            {% set actions = actions|merge({ 'save': {onclick: '$(\'#submit_1\').click();',class:'btn-success',attr:{title:'Sauvegarder'}}}) %}
        {% endif %}
    {% endif %}
    {{ widgets.page_actions(actions) }}
{% endmacro %}